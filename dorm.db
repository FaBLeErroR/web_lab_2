
DROP TABLE IF EXISTS ЗаведующийОбщежитиями;

CREATE TABLE ЗаведующийОбщежитиями (
    ЗаведующийИд INTEGER PRIMARY KEY,
    Фамилия VARCHAR(50),
    Имя VARCHAR(50),
    Отчество VARCHAR(50)
);

INSERT INTO ЗаведующийОбщежитиями (Фамилия, Имя, Отчество) VALUES 
    ('Иванов', 'Иван', 'Иванович'),
    ('Петров', 'Петр', 'Петрович');

DROP TABLE IF EXISTS Общежития;

CREATE TABLE Общежития (
    НомерОбщежития INTEGER PRIMARY KEY,
    ЗаведующийИд INTEGER,
    FOREIGN KEY (ЗаведующийИд) REFERENCES ЗаведующийОбщежитиями (ЗаведующийИд)
);

INSERT INTO Общежития (НомерОбщежития, ЗаведующийИд) VALUES 
    (1, 1),
    (2, 2);

DROP TABLE IF EXISTS СпециальностиРабочих;

CREATE TABLE СпециальностиРабочих (
    СпециальностьИд INTEGER PRIMARY KEY,
    Специальность VARCHAR(50)
);

INSERT INTO СпециальностиРабочих (Специальность) VALUES 
    ('Инженер'),
    ('Уборщик'),
    ('Повар');

DROP TABLE IF EXISTS Комнаты;

CREATE TABLE Комнаты (
    НомерКомнаты INTEGER PRIMARY KEY,
    НомерОбщежития INTEGER,
    СпециальностьИд INTEGER,
    КоличествоМест INTEGER,
    FOREIGN KEY (НомерОбщежития) REFERENCES Общежития (НомерОбщежития),
    FOREIGN KEY (СпециальностьИд) REFERENCES СпециальностиРабочих (СпециальностьИд)
);

INSERT INTO Комнаты (НомерКомнаты, НомерОбщежития, СпециальностьИд, КоличествоМест) VALUES 
    (1101, 1, 1, 2),
    (1102, 1, 2, 2),
    (1201, 1, 3, 4),
    (2101, 2, 1, 4),
    (2102, 2, 2, 2),
    (2201, 2, 3, 4);

DROP TABLE IF EXISTS Рабочие;

CREATE TABLE Рабочие (
    РабочийИд INTEGER PRIMARY KEY,
    Фамилия VARCHAR(50),
    Имя VARCHAR(50),
    Отчество VARCHAR(50),
    СпециальностьИд INTEGER,
    FOREIGN KEY (СпециальностьИд) REFERENCES СпециальностиРабочих (СпециальностьИд)
);

INSERT INTO Рабочие (Фамилия, Имя, Отчество, СпециальностьИд) VALUES 
    ('Сидоров', 'Сидор', 'Сидорович', 2),
    ('Михайлов', 'Михаил', 'Михайлович', 3),
    ('Андреев', 'Андрей', 'Андреевич', 1),
    ('Карпов', 'Владимир', 'Николаевич', 2),
    ('Смирнова', 'Ольга', 'Игоревна', 1),
    ('Тимофеев', 'Дмитрий', 'Анатольевич', 1);

DROP TABLE IF EXISTS ГрафикРабочих;

CREATE TABLE ГрафикРабочих (
    ГрафикИд INTEGER PRIMARY KEY,
    РабочийИд INTEGER,
    ДатаНачалаРаботы DATE,
    ДатаОкончанияРаботы DATE,
    НомерКомнаты INTEGER,
    FOREIGN KEY (РабочийИд) REFERENCES Рабочие (РабочийИд),
    FOREIGN KEY (НомерКомнаты) REFERENCES Комнаты (НомерКомнаты)
);

INSERT INTO ГрафикРабочих (РабочийИд, ДатаНачалаРаботы, ДатаОкончанияРаботы, НомерКомнаты) VALUES 
    (1, '2024-01-20', '2024-02-20', 1101),
    (2, '2024-01-25', '2024-02-25', 2102),
    (3, '2024-02-01', '2024-03-01', 1201);

